import {buildSphereGeometry} from "../src/index";
import {TrianglesPrimitive} from "@xeokit/constants";
import {truncate} from "./testUtils";
import {SDKError} from "@xeokit/core";

describe('buildSphereGeometry', function () {
    let geometry;

    it('Build geometry without error', () => {
        geometry = buildSphereGeometry({
            center: [2, 3, 4], heightSegments: 20, radius: 10, widthSegments: 20
        });
        if (geometry instanceof SDKError) {
            throw geometry;
        }
    });

    it('Geometry has correct primitive type', () => {
        expect(geometry.primitive).toStrictEqual(TrianglesPrimitive);
    });

    it('Geometry has expected positions', () => {
        const positions = truncate(geometry.positions);
        expect(positions).toStrictEqual([2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 2, 13, 4, 3.56, 12.88, 4, 3.49, 12.88, 4.48, 3.27, 12.88, 4.92, 2.92, 12.88, 5.27, 2.48, 12.88, 5.49, 2, 12.88, 5.56, 1.52, 12.88, 5.49, 1.08, 12.88, 5.27, 0.73, 12.88, 4.92, 0.51, 12.88, 4.48, 0.44, 12.88, 4, 0.51, 12.88, 3.52, 0.73, 12.88, 3.08, 1.08, 12.88, 2.73, 1.52, 12.88, 2.51, 2, 12.88, 2.44, 2.48, 12.88, 2.51, 2.92, 12.88, 2.73, 3.27, 12.88, 3.08, 3.49, 12.88, 3.52, 3.56, 12.88, 4, 5.09, 12.51, 4, 4.94, 12.51, 4.95, 4.5, 12.51, 5.82, 3.82, 12.51, 6.5, 2.95, 12.51, 6.94, 2, 12.51, 7.09, 1.05, 12.51, 6.94, 0.18, 12.51, 6.5, -0.5, 12.51, 5.82, -0.94, 12.51, 4.95, -1.09, 12.51, 4, -0.94, 12.51, 3.05, -0.5, 12.51, 2.18, 0.18, 12.51, 1.5, 1.05, 12.51, 1.06, 2, 12.51, 0.91, 2.95, 12.51, 1.06, 3.82, 12.51, 1.5, 4.5, 12.51, 2.18, 4.94, 12.51, 3.05, 5.09, 12.51, 4, 6.54, 11.91, 4, 6.32, 11.91, 5.4, 5.67, 11.91, 6.67, 4.67, 11.91, 7.67, 3.4, 11.91, 8.32, 2, 11.91, 8.54, 0.6, 11.91, 8.32, -0.67, 11.91, 7.67, -1.67, 11.91, 6.67, -2.32, 11.91, 5.4, -2.54, 11.91, 4, -2.32, 11.91, 2.6, -1.67, 11.91, 1.33, -0.67, 11.91, 0.33, 0.6, 11.91, -0.32, 2, 11.91, -0.54, 3.4, 11.91, -0.32, 4.67, 11.91, 0.33, 5.67, 11.91, 1.33, 6.32, 11.91, 2.6, 6.54, 11.91, 4, 7.88, 11.09, 4, 7.59, 11.09, 5.82, 6.76, 11.09, 7.45, 5.45, 11.09, 8.76, 3.82, 11.09, 9.59, 2, 11.09, 9.88, 0.18, 11.09, 9.59, -1.45, 11.09, 8.76, -2.76, 11.09, 7.45, -3.59, 11.09, 5.82, -3.88, 11.09, 4, -3.59, 11.09, 2.18, -2.76, 11.09, 0.55, -1.45, 11.09, -0.76, 0.18, 11.09, -1.59, 2, 11.09, -1.88, 3.82, 11.09, -1.59, 5.45, 11.09, -0.76, 6.76, 11.09, 0.55, 7.59, 11.09, 2.18, 7.88, 11.09, 4, 9.07, 10.07, 4, 8.72, 10.07, 6.19, 7.72, 10.07, 8.16, 6.16, 10.07, 9.72, 4.19, 10.07, 10.72, 2, 10.07, 11.07, -0.19, 10.07, 10.72, -2.16, 10.07, 9.72, -3.72, 10.07, 8.16, -4.72, 10.07, 6.19, -5.07, 10.07, 4, -4.72, 10.07, 1.81, -3.72, 10.07, -0.16, -2.16, 10.07, -1.72, -0.19, 10.07, -2.72, 2, 10.07, -3.07, 4.19, 10.07, -2.72, 6.16, 10.07, -1.72, 7.72, 10.07, -0.16, 8.72, 10.07, 1.81, 9.07, 10.07, 4, 10.09, 8.88, 4, 9.69, 8.88, 6.5, 8.55, 8.88, 8.76, 6.76, 8.88, 10.55, 4.5, 8.88, 11.69, 2, 8.88, 12.09, -0.5, 8.88, 11.69, -2.76, 8.88, 10.55, -4.55, 8.88, 8.76, -5.69, 8.88, 6.5, -6.09, 8.88, 4, -5.69, 8.88, 1.5, -4.55, 8.88, -0.76, -2.76, 8.88, -2.55, -0.5, 8.88, -3.69, 2, 8.88, -4.09, 4.5, 8.88, -3.69, 6.76, 8.88, -2.55, 8.55, 8.88, -0.76, 9.69, 8.88, 1.5, 10.09, 8.88, 4, 10.91, 7.54, 4, 10.47, 7.54, 6.75, 9.21, 7.54, 9.24, 7.24, 7.54, 11.21, 4.75, 7.54, 12.47, 2, 7.54, 12.91, -0.75, 7.54, 12.47, -3.24, 7.54, 11.21, -5.21, 7.54, 9.24, -6.47, 7.54, 6.75, -6.91, 7.54, 4, -6.47, 7.54, 1.25, -5.21, 7.54, -1.24, -3.24, 7.54, -3.21, -0.75, 7.54, -4.47, 2, 7.54, -4.91, 4.75, 7.54, -4.47, 7.24, 7.54, -3.21, 9.21, 7.54, -1.24, 10.47, 7.54, 1.25, 10.91, 7.54, 4, 11.51, 6.09, 4, 11.05, 6.09, 6.94, 9.69, 6.09, 9.59, 7.59, 6.09, 11.69, 4.94, 6.09, 13.05, 2, 6.09, 13.51, -0.94, 6.09, 13.05, -3.59, 6.09, 11.69, -5.69, 6.09, 9.59, -7.05, 6.09, 6.94, -7.51, 6.09, 4, -7.05, 6.09, 1.06, -5.69, 6.09, -1.59, -3.59, 6.09, -3.69, -0.94, 6.09, -5.05, 2, 6.09, -5.51, 4.94, 6.09, -5.05, 7.59, 6.09, -3.69, 9.69, 6.09, -1.59, 11.05, 6.09, 1.06, 11.51, 6.09, 4, 11.88, 4.56, 4, 11.39, 4.56, 7.05, 9.99, 4.56, 9.81, 7.81, 4.56, 11.99, 5.05, 4.56, 13.39, 2, 4.56, 13.88, -1.05, 4.56, 13.39, -3.81, 4.56, 11.99, -5.99, 4.56, 9.81, -7.39, 4.56, 7.05, -7.88, 4.56, 4, -7.39, 4.56, 0.95, -5.99, 4.56, -1.81, -3.81, 4.56, -3.99, -1.05, 4.56, -5.39, 2, 4.56, -5.88, 5.05, 4.56, -5.39, 7.81, 4.56, -3.99, 9.99, 4.56, -1.81, 11.39, 4.56, 0.95, 11.88, 4.56, 4, 12, 3, 4, 11.51, 3, 7.09, 10.09, 3, 9.88, 7.88, 3, 12.09, 5.09, 3, 13.51, 2, 3, 14, -1.09, 3, 13.51, -3.88, 3, 12.09, -6.09, 3, 9.88, -7.51, 3, 7.09, -8, 3, 4, -7.51, 3, 0.91, -6.09, 3, -1.88, -3.88, 3, -4.09, -1.09, 3, -5.51, 2, 3, -6, 5.09, 3, -5.51, 7.88, 3, -4.09, 10.09, 3, -1.88, 11.51, 3, 0.91, 12, 3, 4, 11.88, 1.44, 4, 11.39, 1.44, 7.05, 9.99, 1.44, 9.81, 7.81, 1.44, 11.99, 5.05, 1.44, 13.39, 2, 1.44, 13.88, -1.05, 1.44, 13.39, -3.81, 1.44, 11.99, -5.99, 1.44, 9.81, -7.39, 1.44, 7.05, -7.88, 1.44, 4, -7.39, 1.44, 0.95, -5.99, 1.44, -1.81, -3.81, 1.44, -3.99, -1.05, 1.44, -5.39, 2, 1.44, -5.88, 5.05, 1.44, -5.39, 7.81, 1.44, -3.99, 9.99, 1.44, -1.81, 11.39, 1.44, 0.95, 11.88, 1.44, 4, 11.51, -0.09, 4, 11.05, -0.09, 6.94, 9.69, -0.09, 9.59, 7.59, -0.09, 11.69, 4.94, -0.09, 13.05, 2, -0.09, 13.51, -0.94, -0.09, 13.05, -3.59, -0.09, 11.69, -5.69, -0.09, 9.59, -7.05, -0.09, 6.94, -7.51, -0.09, 4, -7.05, -0.09, 1.06, -5.69, -0.09, -1.59, -3.59, -0.09, -3.69, -0.94, -0.09, -5.05, 2, -0.09, -5.51, 4.94, -0.09, -5.05, 7.59, -0.09, -3.69, 9.69, -0.09, -1.59, 11.05, -0.09, 1.06, 11.51, -0.09, 4, 10.91, -1.54, 4, 10.47, -1.54, 6.75, 9.21, -1.54, 9.24, 7.24, -1.54, 11.21, 4.75, -1.54, 12.47, 2, -1.54, 12.91, -0.75, -1.54, 12.47, -3.24, -1.54, 11.21, -5.21, -1.54, 9.24, -6.47, -1.54, 6.75, -6.91, -1.54, 4, -6.47, -1.54, 1.25, -5.21, -1.54, -1.24, -3.24, -1.54, -3.21, -0.75, -1.54, -4.47, 2, -1.54, -4.91, 4.75, -1.54, -4.47, 7.24, -1.54, -3.21, 9.21, -1.54, -1.24, 10.47, -1.54, 1.25, 10.91, -1.54, 4, 10.09, -2.88, 4, 9.69, -2.88, 6.5, 8.55, -2.88, 8.76, 6.76, -2.88, 10.55, 4.5, -2.88, 11.69, 2, -2.88, 12.09, -0.5, -2.88, 11.69, -2.76, -2.88, 10.55, -4.55, -2.88, 8.76, -5.69, -2.88, 6.5, -6.09, -2.88, 4, -5.69, -2.88, 1.5, -4.55, -2.88, -0.76, -2.76, -2.88, -2.55, -0.5, -2.88, -3.69, 2, -2.88, -4.09, 4.5, -2.88, -3.69, 6.76, -2.88, -2.55, 8.55, -2.88, -0.76, 9.69, -2.88, 1.5, 10.09, -2.88, 4, 9.07, -4.07, 4, 8.72, -4.07, 6.19, 7.72, -4.07, 8.16, 6.16, -4.07, 9.72, 4.19, -4.07, 10.72, 2, -4.07, 11.07, -0.19, -4.07, 10.72, -2.16, -4.07, 9.72, -3.72, -4.07, 8.16, -4.72, -4.07, 6.19, -5.07, -4.07, 4, -4.72, -4.07, 1.81, -3.72, -4.07, -0.16, -2.16, -4.07, -1.72, -0.19, -4.07, -2.72, 2, -4.07, -3.07, 4.19, -4.07, -2.72, 6.16, -4.07, -1.72, 7.72, -4.07, -0.16, 8.72, -4.07, 1.81, 9.07, -4.07, 4, 7.88, -5.09, 4, 7.59, -5.09, 5.82, 6.76, -5.09, 7.45, 5.45, -5.09, 8.76, 3.82, -5.09, 9.59, 2, -5.09, 9.88, 0.18, -5.09, 9.59, -1.45, -5.09, 8.76, -2.76, -5.09, 7.45, -3.59, -5.09, 5.82, -3.88, -5.09, 4, -3.59, -5.09, 2.18, -2.76, -5.09, 0.55, -1.45, -5.09, -0.76, 0.18, -5.09, -1.59, 2, -5.09, -1.88, 3.82, -5.09, -1.59, 5.45, -5.09, -0.76, 6.76, -5.09, 0.55, 7.59, -5.09, 2.18, 7.88, -5.09, 4, 6.54, -5.91, 4, 6.32, -5.91, 5.4, 5.67, -5.91, 6.67, 4.67, -5.91, 7.67, 3.4, -5.91, 8.32, 2, -5.91, 8.54, 0.6, -5.91, 8.32, -0.67, -5.91, 7.67, -1.67, -5.91, 6.67, -2.32, -5.91, 5.4, -2.54, -5.91, 4, -2.32, -5.91, 2.6, -1.67, -5.91, 1.33, -0.67, -5.91, 0.33, 0.6, -5.91, -0.32, 2, -5.91, -0.54, 3.4, -5.91, -0.32, 4.67, -5.91, 0.33, 5.67, -5.91, 1.33, 6.32, -5.91, 2.6, 6.54, -5.91, 4, 5.09, -6.51, 4, 4.94, -6.51, 4.95, 4.5, -6.51, 5.82, 3.82, -6.51, 6.5, 2.95, -6.51, 6.94, 2, -6.51, 7.09, 1.05, -6.51, 6.94, 0.18, -6.51, 6.5, -0.5, -6.51, 5.82, -0.94, -6.51, 4.95, -1.09, -6.51, 4, -0.94, -6.51, 3.05, -0.5, -6.51, 2.18, 0.18, -6.51, 1.5, 1.05, -6.51, 1.06, 2, -6.51, 0.91, 2.95, -6.51, 1.06, 3.82, -6.51, 1.5, 4.5, -6.51, 2.18, 4.94, -6.51, 3.05, 5.09, -6.51, 4, 3.56, -6.88, 4, 3.49, -6.88, 4.48, 3.27, -6.88, 4.92, 2.92, -6.88, 5.27, 2.48, -6.88, 5.49, 2, -6.88, 5.56, 1.52, -6.88, 5.49, 1.08, -6.88, 5.27, 0.73, -6.88, 4.92, 0.51, -6.88, 4.48, 0.44, -6.88, 4, 0.51, -6.88, 3.52, 0.73, -6.88, 3.08, 1.08, -6.88, 2.73, 1.52, -6.88, 2.51, 2, -6.88, 2.44, 2.48, -6.88, 2.51, 2.92, -6.88, 2.73, 3.27, -6.88, 3.08, 3.49, -6.88, 3.52, 3.56, -6.88, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4, 2, -7, 4]);
    });

    it('Geometry has correct UV coordinates', () => {
        const uv = truncate(geometry.uv);
        expect(uv).toStrictEqual([1, 0, 0.95, 0, 0.9, 0, 0.85, 0, 0.8, 0, 0.75, 0, 0.7, 0, 0.65, 0, 0.6, 0, 0.55, 0, 0.5, 0, 0.45, 0, 0.4, 0, 0.35, 0, 0.3, 0, 0.25, 0, 0.2, 0, 0.15, 0, 0.1, 0, 0.05, 0, 0, 0, 1, 0.05, 0.95, 0.05, 0.9, 0.05, 0.85, 0.05, 0.8, 0.05, 0.75, 0.05, 0.7, 0.05, 0.65, 0.05, 0.6, 0.05, 0.55, 0.05, 0.5, 0.05, 0.45, 0.05, 0.4, 0.05, 0.35, 0.05, 0.3, 0.05, 0.25, 0.05, 0.2, 0.05, 0.15, 0.05, 0.1, 0.05, 0.05, 0.05, 0, 0.05, 1, 0.1, 0.95, 0.1, 0.9, 0.1, 0.85, 0.1, 0.8, 0.1, 0.75, 0.1, 0.7, 0.1, 0.65, 0.1, 0.6, 0.1, 0.55, 0.1, 0.5, 0.1, 0.45, 0.1, 0.4, 0.1, 0.35, 0.1, 0.3, 0.1, 0.25, 0.1, 0.2, 0.1, 0.15, 0.1, 0.1, 0.1, 0.05, 0.1, 0, 0.1, 1, 0.15, 0.95, 0.15, 0.9, 0.15, 0.85, 0.15, 0.8, 0.15, 0.75, 0.15, 0.7, 0.15, 0.65, 0.15, 0.6, 0.15, 0.55, 0.15, 0.5, 0.15, 0.45, 0.15, 0.4, 0.15, 0.35, 0.15, 0.3, 0.15, 0.25, 0.15, 0.2, 0.15, 0.15, 0.15, 0.1, 0.15, 0.05, 0.15, 0, 0.15, 1, 0.2, 0.95, 0.2, 0.9, 0.2, 0.85, 0.2, 0.8, 0.2, 0.75, 0.2, 0.7, 0.2, 0.65, 0.2, 0.6, 0.2, 0.55, 0.2, 0.5, 0.2, 0.45, 0.2, 0.4, 0.2, 0.35, 0.2, 0.3, 0.2, 0.25, 0.2, 0.2, 0.2, 0.15, 0.2, 0.1, 0.2, 0.05, 0.2, 0, 0.2, 1, 0.25, 0.95, 0.25, 0.9, 0.25, 0.85, 0.25, 0.8, 0.25, 0.75, 0.25, 0.7, 0.25, 0.65, 0.25, 0.6, 0.25, 0.55, 0.25, 0.5, 0.25, 0.45, 0.25, 0.4, 0.25, 0.35, 0.25, 0.3, 0.25, 0.25, 0.25, 0.2, 0.25, 0.15, 0.25, 0.1, 0.25, 0.05, 0.25, 0, 0.25, 1, 0.3, 0.95, 0.3, 0.9, 0.3, 0.85, 0.3, 0.8, 0.3, 0.75, 0.3, 0.7, 0.3, 0.65, 0.3, 0.6, 0.3, 0.55, 0.3, 0.5, 0.3, 0.45, 0.3, 0.4, 0.3, 0.35, 0.3, 0.3, 0.3, 0.25, 0.3, 0.2, 0.3, 0.15, 0.3, 0.1, 0.3, 0.05, 0.3, 0, 0.3, 1, 0.35, 0.95, 0.35, 0.9, 0.35, 0.85, 0.35, 0.8, 0.35, 0.75, 0.35, 0.7, 0.35, 0.65, 0.35, 0.6, 0.35, 0.55, 0.35, 0.5, 0.35, 0.45, 0.35, 0.4, 0.35, 0.35, 0.35, 0.3, 0.35, 0.25, 0.35, 0.2, 0.35, 0.15, 0.35, 0.1, 0.35, 0.05, 0.35, 0, 0.35, 1, 0.4, 0.95, 0.4, 0.9, 0.4, 0.85, 0.4, 0.8, 0.4, 0.75, 0.4, 0.7, 0.4, 0.65, 0.4, 0.6, 0.4, 0.55, 0.4, 0.5, 0.4, 0.45, 0.4, 0.4, 0.4, 0.35, 0.4, 0.3, 0.4, 0.25, 0.4, 0.2, 0.4, 0.15, 0.4, 0.1, 0.4, 0.05, 0.4, 0, 0.4, 1, 0.45, 0.95, 0.45, 0.9, 0.45, 0.85, 0.45, 0.8, 0.45, 0.75, 0.45, 0.7, 0.45, 0.65, 0.45, 0.6, 0.45, 0.55, 0.45, 0.5, 0.45, 0.45, 0.45, 0.4, 0.45, 0.35, 0.45, 0.3, 0.45, 0.25, 0.45, 0.2, 0.45, 0.15, 0.45, 0.1, 0.45, 0.05, 0.45, 0, 0.45, 1, 0.5, 0.95, 0.5, 0.9, 0.5, 0.85, 0.5, 0.8, 0.5, 0.75, 0.5, 0.7, 0.5, 0.65, 0.5, 0.6, 0.5, 0.55, 0.5, 0.5, 0.5, 0.45, 0.5, 0.4, 0.5, 0.35, 0.5, 0.3, 0.5, 0.25, 0.5, 0.2, 0.5, 0.15, 0.5, 0.1, 0.5, 0.05, 0.5, 0, 0.5, 1, 0.55, 0.95, 0.55, 0.9, 0.55, 0.85, 0.55, 0.8, 0.55, 0.75, 0.55, 0.7, 0.55, 0.65, 0.55, 0.6, 0.55, 0.55, 0.55, 0.5, 0.55, 0.45, 0.55, 0.4, 0.55, 0.35, 0.55, 0.3, 0.55, 0.25, 0.55, 0.2, 0.55, 0.15, 0.55, 0.1, 0.55, 0.05, 0.55, 0, 0.55, 1, 0.6, 0.95, 0.6, 0.9, 0.6, 0.85, 0.6, 0.8, 0.6, 0.75, 0.6, 0.7, 0.6, 0.65, 0.6, 0.6, 0.6, 0.55, 0.6, 0.5, 0.6, 0.45, 0.6, 0.4, 0.6, 0.35, 0.6, 0.3, 0.6, 0.25, 0.6, 0.2, 0.6, 0.15, 0.6, 0.1, 0.6, 0.05, 0.6, 0, 0.6, 1, 0.65, 0.95, 0.65, 0.9, 0.65, 0.85, 0.65, 0.8, 0.65, 0.75, 0.65, 0.7, 0.65, 0.65, 0.65, 0.6, 0.65, 0.55, 0.65, 0.5, 0.65, 0.45, 0.65, 0.4, 0.65, 0.35, 0.65, 0.3, 0.65, 0.25, 0.65, 0.2, 0.65, 0.15, 0.65, 0.1, 0.65, 0.05, 0.65, 0, 0.65, 1, 0.7, 0.95, 0.7, 0.9, 0.7, 0.85, 0.7, 0.8, 0.7, 0.75, 0.7, 0.7, 0.7, 0.65, 0.7, 0.6, 0.7, 0.55, 0.7, 0.5, 0.7, 0.45, 0.7, 0.4, 0.7, 0.35, 0.7, 0.3, 0.7, 0.25, 0.7, 0.2, 0.7, 0.15, 0.7, 0.1, 0.7, 0.05, 0.7, 0, 0.7, 1, 0.75, 0.95, 0.75, 0.9, 0.75, 0.85, 0.75, 0.8, 0.75, 0.75, 0.75, 0.7, 0.75, 0.65, 0.75, 0.6, 0.75, 0.55, 0.75, 0.5, 0.75, 0.45, 0.75, 0.4, 0.75, 0.35, 0.75, 0.3, 0.75, 0.25, 0.75, 0.2, 0.75, 0.15, 0.75, 0.1, 0.75, 0.05, 0.75, 0, 0.75, 1, 0.8, 0.95, 0.8, 0.9, 0.8, 0.85, 0.8, 0.8, 0.8, 0.75, 0.8, 0.7, 0.8, 0.65, 0.8, 0.6, 0.8, 0.55, 0.8, 0.5, 0.8, 0.45, 0.8, 0.4, 0.8, 0.35, 0.8, 0.3, 0.8, 0.25, 0.8, 0.2, 0.8, 0.15, 0.8, 0.1, 0.8, 0.05, 0.8, 0, 0.8, 1, 0.85, 0.95, 0.85, 0.9, 0.85, 0.85, 0.85, 0.8, 0.85, 0.75, 0.85, 0.7, 0.85, 0.65, 0.85, 0.6, 0.85, 0.55, 0.85, 0.5, 0.85, 0.45, 0.85, 0.4, 0.85, 0.35, 0.85, 0.3, 0.85, 0.25, 0.85, 0.2, 0.85, 0.15, 0.85, 0.1, 0.85, 0.05, 0.85, 0, 0.85, 1, 0.9, 0.95, 0.9, 0.9, 0.9, 0.85, 0.9, 0.8, 0.9, 0.75, 0.9, 0.7, 0.9, 0.65, 0.9, 0.6, 0.9, 0.55, 0.9, 0.5, 0.9, 0.45, 0.9, 0.4, 0.9, 0.35, 0.9, 0.3, 0.9, 0.25, 0.9, 0.2, 0.9, 0.15, 0.9, 0.1, 0.9, 0.05, 0.9, 0, 0.9, 1, 0.95, 0.95, 0.95, 0.9, 0.95, 0.85, 0.95, 0.8, 0.95, 0.75, 0.95, 0.7, 0.95, 0.65, 0.95, 0.6, 0.95, 0.55, 0.95, 0.5, 0.95, 0.45, 0.95, 0.4, 0.95, 0.35, 0.95, 0.3, 0.95, 0.25, 0.95, 0.2, 0.95, 0.15, 0.95, 0.1, 0.95, 0.05, 0.95, 0, 0.95, 1, 1, 0.95, 1, 0.9, 1, 0.85, 1, 0.8, 1, 0.75, 1, 0.7, 1, 0.65, 1, 0.6, 1, 0.55, 1, 0.5, 1, 0.45, 1, 0.4, 1, 0.35, 1, 0.3, 1, 0.25, 1, 0.2, 1, 0.15, 1, 0.1, 1, 0.05, 1, 0, 1]);
    });

    it('Geometry has correct indices', () => {
        expect(geometry.indices).toStrictEqual([1, 22, 21, 1, 21, 0, 2, 23, 22, 2, 22, 1, 3, 24, 23, 3, 23, 2, 4, 25, 24, 4, 24, 3, 5, 26, 25, 5, 25, 4, 6, 27, 26, 6, 26, 5, 7, 28, 27, 7, 27, 6, 8, 29, 28, 8, 28, 7, 9, 30, 29, 9, 29, 8, 10, 31, 30, 10, 30, 9, 11, 32, 31, 11, 31, 10, 12, 33, 32, 12, 32, 11, 13, 34, 33, 13, 33, 12, 14, 35, 34, 14, 34, 13, 15, 36, 35, 15, 35, 14, 16, 37, 36, 16, 36, 15, 17, 38, 37, 17, 37, 16, 18, 39, 38, 18, 38, 17, 19, 40, 39, 19, 39, 18, 20, 41, 40, 20, 40, 19, 22, 43, 42, 22, 42, 21, 23, 44, 43, 23, 43, 22, 24, 45, 44, 24, 44, 23, 25, 46, 45, 25, 45, 24, 26, 47, 46, 26, 46, 25, 27, 48, 47, 27, 47, 26, 28, 49, 48, 28, 48, 27, 29, 50, 49, 29, 49, 28, 30, 51, 50, 30, 50, 29, 31, 52, 51, 31, 51, 30, 32, 53, 52, 32, 52, 31, 33, 54, 53, 33, 53, 32, 34, 55, 54, 34, 54, 33, 35, 56, 55, 35, 55, 34, 36, 57, 56, 36, 56, 35, 37, 58, 57, 37, 57, 36, 38, 59, 58, 38, 58, 37, 39, 60, 59, 39, 59, 38, 40, 61, 60, 40, 60, 39, 41, 62, 61, 41, 61, 40, 43, 64, 63, 43, 63, 42, 44, 65, 64, 44, 64, 43, 45, 66, 65, 45, 65, 44, 46, 67, 66, 46, 66, 45, 47, 68, 67, 47, 67, 46, 48, 69, 68, 48, 68, 47, 49, 70, 69, 49, 69, 48, 50, 71, 70, 50, 70, 49, 51, 72, 71, 51, 71, 50, 52, 73, 72, 52, 72, 51, 53, 74, 73, 53, 73, 52, 54, 75, 74, 54, 74, 53, 55, 76, 75, 55, 75, 54, 56, 77, 76, 56, 76, 55, 57, 78, 77, 57, 77, 56, 58, 79, 78, 58, 78, 57, 59, 80, 79, 59, 79, 58, 60, 81, 80, 60, 80, 59, 61, 82, 81, 61, 81, 60, 62, 83, 82, 62, 82, 61, 64, 85, 84, 64, 84, 63, 65, 86, 85, 65, 85, 64, 66, 87, 86, 66, 86, 65, 67, 88, 87, 67, 87, 66, 68, 89, 88, 68, 88, 67, 69, 90, 89, 69, 89, 68, 70, 91, 90, 70, 90, 69, 71, 92, 91, 71, 91, 70, 72, 93, 92, 72, 92, 71, 73, 94, 93, 73, 93, 72, 74, 95, 94, 74, 94, 73, 75, 96, 95, 75, 95, 74, 76, 97, 96, 76, 96, 75, 77, 98, 97, 77, 97, 76, 78, 99, 98, 78, 98, 77, 79, 100, 99, 79, 99, 78, 80, 101, 100, 80, 100, 79, 81, 102, 101, 81, 101, 80, 82, 103, 102, 82, 102, 81, 83, 104, 103, 83, 103, 82, 85, 106, 105, 85, 105, 84, 86, 107, 106, 86, 106, 85, 87, 108, 107, 87, 107, 86, 88, 109, 108, 88, 108, 87, 89, 110, 109, 89, 109, 88, 90, 111, 110, 90, 110, 89, 91, 112, 111, 91, 111, 90, 92, 113, 112, 92, 112, 91, 93, 114, 113, 93, 113, 92, 94, 115, 114, 94, 114, 93, 95, 116, 115, 95, 115, 94, 96, 117, 116, 96, 116, 95, 97, 118, 117, 97, 117, 96, 98, 119, 118, 98, 118, 97, 99, 120, 119, 99, 119, 98, 100, 121, 120, 100, 120, 99, 101, 122, 121, 101, 121, 100, 102, 123, 122, 102, 122, 101, 103, 124, 123, 103, 123, 102, 104, 125, 124, 104, 124, 103, 106, 127, 126, 106, 126, 105, 107, 128, 127, 107, 127, 106, 108, 129, 128, 108, 128, 107, 109, 130, 129, 109, 129, 108, 110, 131, 130, 110, 130, 109, 111, 132, 131, 111, 131, 110, 112, 133, 132, 112, 132, 111, 113, 134, 133, 113, 133, 112, 114, 135, 134, 114, 134, 113, 115, 136, 135, 115, 135, 114, 116, 137, 136, 116, 136, 115, 117, 138, 137, 117, 137, 116, 118, 139, 138, 118, 138, 117, 119, 140, 139, 119, 139, 118, 120, 141, 140, 120, 140, 119, 121, 142, 141, 121, 141, 120, 122, 143, 142, 122, 142, 121, 123, 144, 143, 123, 143, 122, 124, 145, 144, 124, 144, 123, 125, 146, 145, 125, 145, 124, 127, 148, 147, 127, 147, 126, 128, 149, 148, 128, 148, 127, 129, 150, 149, 129, 149, 128, 130, 151, 150, 130, 150, 129, 131, 152, 151, 131, 151, 130, 132, 153, 152, 132, 152, 131, 133, 154, 153, 133, 153, 132, 134, 155, 154, 134, 154, 133, 135, 156, 155, 135, 155, 134, 136, 157, 156, 136, 156, 135, 137, 158, 157, 137, 157, 136, 138, 159, 158, 138, 158, 137, 139, 160, 159, 139, 159, 138, 140, 161, 160, 140, 160, 139, 141, 162, 161, 141, 161, 140, 142, 163, 162, 142, 162, 141, 143, 164, 163, 143, 163, 142, 144, 165, 164, 144, 164, 143, 145, 166, 165, 145, 165, 144, 146, 167, 166, 146, 166, 145, 148, 169, 168, 148, 168, 147, 149, 170, 169, 149, 169, 148, 150, 171, 170, 150, 170, 149, 151, 172, 171, 151, 171, 150, 152, 173, 172, 152, 172, 151, 153, 174, 173, 153, 173, 152, 154, 175, 174, 154, 174, 153, 155, 176, 175, 155, 175, 154, 156, 177, 176, 156, 176, 155, 157, 178, 177, 157, 177, 156, 158, 179, 178, 158, 178, 157, 159, 180, 179, 159, 179, 158, 160, 181, 180, 160, 180, 159, 161, 182, 181, 161, 181, 160, 162, 183, 182, 162, 182, 161, 163, 184, 183, 163, 183, 162, 164, 185, 184, 164, 184, 163, 165, 186, 185, 165, 185, 164, 166, 187, 186, 166, 186, 165, 167, 188, 187, 167, 187, 166, 169, 190, 189, 169, 189, 168, 170, 191, 190, 170, 190, 169, 171, 192, 191, 171, 191, 170, 172, 193, 192, 172, 192, 171, 173, 194, 193, 173, 193, 172, 174, 195, 194, 174, 194, 173, 175, 196, 195, 175, 195, 174, 176, 197, 196, 176, 196, 175, 177, 198, 197, 177, 197, 176, 178, 199, 198, 178, 198, 177, 179, 200, 199, 179, 199, 178, 180, 201, 200, 180, 200, 179, 181, 202, 201, 181, 201, 180, 182, 203, 202, 182, 202, 181, 183, 204, 203, 183, 203, 182, 184, 205, 204, 184, 204, 183, 185, 206, 205, 185, 205, 184, 186, 207, 206, 186, 206, 185, 187, 208, 207, 187, 207, 186, 188, 209, 208, 188, 208, 187, 190, 211, 210, 190, 210, 189, 191, 212, 211, 191, 211, 190, 192, 213, 212, 192, 212, 191, 193, 214, 213, 193, 213, 192, 194, 215, 214, 194, 214, 193, 195, 216, 215, 195, 215, 194, 196, 217, 216, 196, 216, 195, 197, 218, 217, 197, 217, 196, 198, 219, 218, 198, 218, 197, 199, 220, 219, 199, 219, 198, 200, 221, 220, 200, 220, 199, 201, 222, 221, 201, 221, 200, 202, 223, 222, 202, 222, 201, 203, 224, 223, 203, 223, 202, 204, 225, 224, 204, 224, 203, 205, 226, 225, 205, 225, 204, 206, 227, 226, 206, 226, 205, 207, 228, 227, 207, 227, 206, 208, 229, 228, 208, 228, 207, 209, 230, 229, 209, 229, 208, 211, 232, 231, 211, 231, 210, 212, 233, 232, 212, 232, 211, 213, 234, 233, 213, 233, 212, 214, 235, 234, 214, 234, 213, 215, 236, 235, 215, 235, 214, 216, 237, 236, 216, 236, 215, 217, 238, 237, 217, 237, 216, 218, 239, 238, 218, 238, 217, 219, 240, 239, 219, 239, 218, 220, 241, 240, 220, 240, 219, 221, 242, 241, 221, 241, 220, 222, 243, 242, 222, 242, 221, 223, 244, 243, 223, 243, 222, 224, 245, 244, 224, 244, 223, 225, 246, 245, 225, 245, 224, 226, 247, 246, 226, 246, 225, 227, 248, 247, 227, 247, 226, 228, 249, 248, 228, 248, 227, 229, 250, 249, 229, 249, 228, 230, 251, 250, 230, 250, 229, 232, 253, 252, 232, 252, 231, 233, 254, 253, 233, 253, 232, 234, 255, 254, 234, 254, 233, 235, 256, 255, 235, 255, 234, 236, 257, 256, 236, 256, 235, 237, 258, 257, 237, 257, 236, 238, 259, 258, 238, 258, 237, 239, 260, 259, 239, 259, 238, 240, 261, 260, 240, 260, 239, 241, 262, 261, 241, 261, 240, 242, 263, 262, 242, 262, 241, 243, 264, 263, 243, 263, 242, 244, 265, 264, 244, 264, 243, 245, 266, 265, 245, 265, 244, 246, 267, 266, 246, 266, 245, 247, 268, 267, 247, 267, 246, 248, 269, 268, 248, 268, 247, 249, 270, 269, 249, 269, 248, 250, 271, 270, 250, 270, 249, 251, 272, 271, 251, 271, 250, 253, 274, 273, 253, 273, 252, 254, 275, 274, 254, 274, 253, 255, 276, 275, 255, 275, 254, 256, 277, 276, 256, 276, 255, 257, 278, 277, 257, 277, 256, 258, 279, 278, 258, 278, 257, 259, 280, 279, 259, 279, 258, 260, 281, 280, 260, 280, 259, 261, 282, 281, 261, 281, 260, 262, 283, 282, 262, 282, 261, 263, 284, 283, 263, 283, 262, 264, 285, 284, 264, 284, 263, 265, 286, 285, 265, 285, 264, 266, 287, 286, 266, 286, 265, 267, 288, 287, 267, 287, 266, 268, 289, 288, 268, 288, 267, 269, 290, 289, 269, 289, 268, 270, 291, 290, 270, 290, 269, 271, 292, 291, 271, 291, 270, 272, 293, 292, 272, 292, 271, 274, 295, 294, 274, 294, 273, 275, 296, 295, 275, 295, 274, 276, 297, 296, 276, 296, 275, 277, 298, 297, 277, 297, 276, 278, 299, 298, 278, 298, 277, 279, 300, 299, 279, 299, 278, 280, 301, 300, 280, 300, 279, 281, 302, 301, 281, 301, 280, 282, 303, 302, 282, 302, 281, 283, 304, 303, 283, 303, 282, 284, 305, 304, 284, 304, 283, 285, 306, 305, 285, 305, 284, 286, 307, 306, 286, 306, 285, 287, 308, 307, 287, 307, 286, 288, 309, 308, 288, 308, 287, 289, 310, 309, 289, 309, 288, 290, 311, 310, 290, 310, 289, 291, 312, 311, 291, 311, 290, 292, 313, 312, 292, 312, 291, 293, 314, 313, 293, 313, 292, 295, 316, 315, 295, 315, 294, 296, 317, 316, 296, 316, 295, 297, 318, 317, 297, 317, 296, 298, 319, 318, 298, 318, 297, 299, 320, 319, 299, 319, 298, 300, 321, 320, 300, 320, 299, 301, 322, 321, 301, 321, 300, 302, 323, 322, 302, 322, 301, 303, 324, 323, 303, 323, 302, 304, 325, 324, 304, 324, 303, 305, 326, 325, 305, 325, 304, 306, 327, 326, 306, 326, 305, 307, 328, 327, 307, 327, 306, 308, 329, 328, 308, 328, 307, 309, 330, 329, 309, 329, 308, 310, 331, 330, 310, 330, 309, 311, 332, 331, 311, 331, 310, 312, 333, 332, 312, 332, 311, 313, 334, 333, 313, 333, 312, 314, 335, 334, 314, 334, 313, 316, 337, 336, 316, 336, 315, 317, 338, 337, 317, 337, 316, 318, 339, 338, 318, 338, 317, 319, 340, 339, 319, 339, 318, 320, 341, 340, 320, 340, 319, 321, 342, 341, 321, 341, 320, 322, 343, 342, 322, 342, 321, 323, 344, 343, 323, 343, 322, 324, 345, 344, 324, 344, 323, 325, 346, 345, 325, 345, 324, 326, 347, 346, 326, 346, 325, 327, 348, 347, 327, 347, 326, 328, 349, 348, 328, 348, 327, 329, 350, 349, 329, 349, 328, 330, 351, 350, 330, 350, 329, 331, 352, 351, 331, 351, 330, 332, 353, 352, 332, 352, 331, 333, 354, 353, 333, 353, 332, 334, 355, 354, 334, 354, 333, 335, 356, 355, 335, 355, 334, 337, 358, 357, 337, 357, 336, 338, 359, 358, 338, 358, 337, 339, 360, 359, 339, 359, 338, 340, 361, 360, 340, 360, 339, 341, 362, 361, 341, 361, 340, 342, 363, 362, 342, 362, 341, 343, 364, 363, 343, 363, 342, 344, 365, 364, 344, 364, 343, 345, 366, 365, 345, 365, 344, 346, 367, 366, 346, 366, 345, 347, 368, 367, 347, 367, 346, 348, 369, 368, 348, 368, 347, 349, 370, 369, 349, 369, 348, 350, 371, 370, 350, 370, 349, 351, 372, 371, 351, 371, 350, 352, 373, 372, 352, 372, 351, 353, 374, 373, 353, 373, 352, 354, 375, 374, 354, 374, 353, 355, 376, 375, 355, 375, 354, 356, 377, 376, 356, 376, 355, 358, 379, 378, 358, 378, 357, 359, 380, 379, 359, 379, 358, 360, 381, 380, 360, 380, 359, 361, 382, 381, 361, 381, 360, 362, 383, 382, 362, 382, 361, 363, 384, 383, 363, 383, 362, 364, 385, 384, 364, 384, 363, 365, 386, 385, 365, 385, 364, 366, 387, 386, 366, 386, 365, 367, 388, 387, 367, 387, 366, 368, 389, 388, 368, 388, 367, 369, 390, 389, 369, 389, 368, 370, 391, 390, 370, 390, 369, 371, 392, 391, 371, 391, 370, 372, 393, 392, 372, 392, 371, 373, 394, 393, 373, 393, 372, 374, 395, 394, 374, 394, 373, 375, 396, 395, 375, 395, 374, 376, 397, 396, 376, 396, 375, 377, 398, 397, 377, 397, 376, 379, 400, 399, 379, 399, 378, 380, 401, 400, 380, 400, 379, 381, 402, 401, 381, 401, 380, 382, 403, 402, 382, 402, 381, 383, 404, 403, 383, 403, 382, 384, 405, 404, 384, 404, 383, 385, 406, 405, 385, 405, 384, 386, 407, 406, 386, 406, 385, 387, 408, 407, 387, 407, 386, 388, 409, 408, 388, 408, 387, 389, 410, 409, 389, 409, 388, 390, 411, 410, 390, 410, 389, 391, 412, 411, 391, 411, 390, 392, 413, 412, 392, 412, 391, 393, 414, 413, 393, 413, 392, 394, 415, 414, 394, 414, 393, 395, 416, 415, 395, 415, 394, 396, 417, 416, 396, 416, 395, 397, 418, 417, 397, 417, 396, 398, 419, 418, 398, 418, 397, 400, 421, 420, 400, 420, 399, 401, 422, 421, 401, 421, 400, 402, 423, 422, 402, 422, 401, 403, 424, 423, 403, 423, 402, 404, 425, 424, 404, 424, 403, 405, 426, 425, 405, 425, 404, 406, 427, 426, 406, 426, 405, 407, 428, 427, 407, 427, 406, 408, 429, 428, 408, 428, 407, 409, 430, 429, 409, 429, 408, 410, 431, 430, 410, 430, 409, 411, 432, 431, 411, 431, 410, 412, 433, 432, 412, 432, 411, 413, 434, 433, 413, 433, 412, 414, 435, 434, 414, 434, 413, 415, 436, 435, 415, 435, 414, 416, 437, 436, 416, 436, 415, 417, 438, 437, 417, 437, 416, 418, 439, 438, 418, 438, 417, 419, 440, 439, 419, 439, 418]);
    });
});
